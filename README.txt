CONFIGURAÇÃO DO TRABALHO DE CONCLUSÃO DE CURSO.

## SERVIDOR DE APLICAÇÃO ##

JBOSS

## SCRIPTS BANCO DE DADOS ##

## CRIAR BANCO DE DADOS ##

CREATE DATABASE TCCSERVER;

USE TCCSERVER;

## CRIAR TABELAS ##

CREATE TABLE USUARIO ( ID_USUARIO INT PRIMARY KEY NOT NULL AUTO_INCREMENT, NOME VARCHAR(60) NOT NULL, SOBRENOME VARCHAR(60) NOT NULL, TELEFONE VARCHAR(15), DATA_NASC DATE NOT NULL, EMAIL VARCHAR(60) NOT NULL, PERFIL VARCHAR(1) NOT NULL,SENHA VARCHAR(60) NOT NULL);
CREATE TABLE MATERIA ( ID_MATERIA INT PRIMARY KEY NOT NULL AUTO_INCREMENT, MATERIA VARCHAR(60) NOT NULL, SEMESTRE INT NOT NULL );
CREATE TABLE DUVIDA ( ID_DUVIDA INT PRIMARY KEY NOT NULL AUTO_INCREMENT, ID_USUARIO INT NOT NULL, TITULO_DUVIDA TEXT NOT NULL, CONTEUDO_DUVIDA TEXT NOT NULL, DATA_CRIACAO DATE NOT NULL ); 
CREATE TABLE RESPOSTA ( ID_RESPOSTA INT PRIMARY KEY NOT NULL AUTO_INCREMENT, ID_USUARIO INT NOT NULL, ID_DUVIDA INT NOT NULL, RESPOSTA TEXT NOT NULL, RANK INT NOT NULL, FLAG_PROF BOOL NOT NULL, FLAG_ALUNO BOOL NOT NULL, DATA_CRIACAO DATE NOT NULL ); 	
CREATE TABLE TAG ( ID_TAG INT PRIMARY KEY NOT NULL AUTO_INCREMENT, NOME VARCHAR(10) NOT NULL );
CREATE TABLE MATERIA_USUARIO ( ID_MATERIA INT NOT NULL, ID_USUARIO INT NOT NULL);
CREATE TABLE MATERIA_DUVIDA ( ID_MATERIA INT NOT NULL, ID_DUVIDA INT NOT NULL );
CREATE TABLE DUVIDA_TAG ( ID_DUVIDA INT NOT NULL, ID_TAG INT NOT NULL );

## DEFINIR CHAVES ESTRANGEIRAS ##

ALTER TABLE USUARIO ADD UNIQUE(EMAIL);
ALTER TABLE DUVIDA ADD CONSTRAINT FK_DUVIDAUSUARIO FOREIGN KEY(ID_USUARIO) REFERENCES USUARIO(ID_USUARIO);
ALTER TABLE RESPOSTA ADD CONSTRAINT FK_RESPOSTAUSUARIO FOREIGN KEY(ID_USUARIO) REFERENCES USUARIO(ID_USUARIO);
ALTER TABLE RESPOSTA ADD CONSTRAINT FK_RESPOSTADUVIDA FOREIGN KEY(ID_DUVIDA) REFERENCES DUVIDA(ID_DUVIDA);
ALTER TABLE TAG ADD UNIQUE(NOME);
ALTER TABLE MATERIA_USUARIO ADD CONSTRAINT FK_MATERIAUSUARIO FOREIGN KEY(ID_MATERIA) REFERENCES MATERIA(ID_MATERIA);
ALTER TABLE MATERIA_USUARIO ADD CONSTRAINT FK_USUARIOMATERIA FOREIGN KEY(ID_USUARIO) REFERENCES USUARIO(ID_USUARIO);
ALTER TABLE MATERIA_DUVIDA ADD CONSTRAINT FK_MATERIADUVIDA FOREIGN KEY(ID_MATERIA) REFERENCES MATERIA(ID_MATERIA);
ALTER TABLE MATERIA_DUVIDA ADD CONSTRAINT FK_DUVIDAMATERIA FOREIGN KEY(ID_DUVIDA) REFERENCES DUVIDA(ID_DUVIDA);
ALTER TABLE DUVIDA_TAG ADD CONSTRAINT FK_DUVIDATAG FOREIGN KEY(ID_DUVIDA) REFERENCES DUVIDA(ID_DUVIDA);
ALTER TABLE DUVIDA_TAG ADD CONSTRAINT FK_TAGDUVIDA FOREIGN KEY(ID_TAG) REFERENCES TAG(ID_TAG);

## INSERTS DE MATERIAS ##

INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('INGLÊS I','1');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('ADMINISTRAÇÃO GERAL','1');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('ALGORITMOS E LÓGICA DE PROGRAMAÇÃO','1');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('ARQUITETURA E ORGANIZAÇÃO DE COMPUTADORES','1');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('LABORATÓRIO DE HARDWARE','1');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('MATEMÁTICA DISCRETA','1');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('PROGRAMAÇÃO EM MICROINFORMÁTICA','1');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('INGLÊS II','2');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('CÁLCULO','2');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('COMUNICAÇÃO E EXPRESSÃO','2');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('CONTABILIDADE','2');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('ENGENHARIA DE SOFTWARE I','2');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('LINGUAGEM DE PROGRAMAÇÃO','2');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('SISTEMAS DE INFORMAÇÃO','2');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('INGLÊS III','3');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('ECONOMIA E FINANÇAS','3');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('ESTATÍSTICA APLICADA','3');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('ESTRUTURA DE DADOS','3');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('INTERAÇÃO HUMANO COMPUTADOR','3');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('SISTEMAS OPERACIONAIS I','3');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('SOCIEDADE E TECNOLOGIA','3');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('INGLÊS IV','4');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('BANCO DE DADOS','4');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('ENGENHARIA DE SOFTWARE III','4');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('METODOLOGIA DA PESQUISA CIENTIFICO-TECNOLÓGICA','4');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('PROGRAMAÇÃO PARA MAINFRAME','4');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('SISTEMAS OPERACIONAIS II','4');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('INGLÊS V','5');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('LABORATÓRIO DE BANCO DE DADOS','5');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('LABORATÓRIO DE ENGENHARIA DE SOFTWARE','5');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('PROGRAMAÇÃO LINEAR E APLICAÇÕES','5');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('REDES DE COMPUTADORES','5');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('SEGURANÇA DA INFORMAÇÃO','5');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('TESTE DE SOFTWARE','5');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('TRABALHO DE GRADUAÇÃO I','5');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('INGLÊS VI', '6');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('AUDITORIA DE SISTEMAS', '6');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('INGLÊS VI', '6');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('AUDITORIA DE SISTEMAS', '6');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('EMPREENDORISMO', '6');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('ÉTICA E RESPONSABILIDADE PROFISSIONAL', '6');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('GERENCIA DE PROJETOS', '6');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('GESTÃO DE EQUIPES', '6');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('GESTÃO E GOVERNANÇA DE TECNOLOGIA DA INFORMAÇÃO', '6');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('LABORATÓRIO DE REDES', '6');
INSERT INTO MATERIA (MATERIA, SEMESTRE) VALUES ('TRABALHO DE GRADUAÇÃO II', '6');

## INSERT DE USUARIOS E SENHAS (TESTES) ##


INSERT INTO USUARIO (NOME, SOBRENOME, TELEFONE, DATA_NASC, EMAIL, PERFIL, SENHA) VALUES ('GABRIEL','QUEIROZ','+5511999147677',24/08/1993,'GABRIEL.FATEC@HOTMAIL.COM','A',MD5('GABRIEL'));
INSERT INTO USUARIO (NOME, SOBRENOME, TELEFONE, DATA_NASC, EMAIL, PERFIL, SENHA) VALUES ('VICTOR','HUGO TELES','+5511973224256',27/06/1993,'VICTOR.HTS@GMAIL.COM','A',MD5('VICTOR'));
INSERT INTO USUARIO (NOME, SOBRENOME, TELEFONE, DATA_NASC, EMAIL, PERFIL, SENHA) VALUES ('BRUNO','HENRIQUE CALIL','+5511985235778',24/08/1993,'BRUHNO.HC@HOTMAIL.COM','A',MD5('BRUNO'));


## INSERT DE DUVIDAS (TESTES) ##

INSERT INTO DUVIDA (ID_USUARIO, TITULO_DUVIDA, CONTEUDO_DUVIDA, DATA_CRIACAO) VALUES ('1','TITULO DUVIDA 1','CONTEUDO DUVIDA 1',11/09/2015);
INSERT INTO MATERIA_DUVIDA (ID_MATERIA, ID_DUVIDA) VALUES ('41','1');
INSERT INTO TAG (NOME) VALUES ('TESTE1'); 
INSERT INTO DUVIDA_TAG (ID_TAG, ID_DUVIDA) VALUES ('1','1');

INSERT INTO DUVIDA (ID_USUARIO, TITULO_DUVIDA, CONTEUDO_DUVIDA, DATA_CRIACAO) VALUES ('2','TITULO DUVIDA 2','CONTEUDO DUVIDA 2',11/09/2015);
INSERT INTO MATERIA_DUVIDA (ID_MATERIA, ID_DUVIDA) VALUES ('33','2');
INSERT INTO TAG (NOME) VALUES ('TESTE2');
INSERT INTO DUVIDA_TAG (ID_TAG, ID_DUVIDA) VALUES ('1','2'); 
INSERT INTO DUVIDA_TAG (ID_TAG, ID_DUVIDA) VALUES ('2','2');

INSERT INTO DUVIDA (ID_USUARIO, TITULO_DUVIDA, CONTEUDO_DUVIDA, DATA_CRIACAO) VALUES ('3','TITULO DUVIDA 3','CONTEUDO DUVIDA 3',11/09/2015);
INSERT INTO MATERIA_DUVIDA (ID_MATERIA, ID_DUVIDA) VALUES ('26','3');
INSERT INTO TAG (NOME) VALUES ('TESTE3');
INSERT INTO DUVIDA_TAG (ID_TAG, ID_DUVIDA) VALUES ('1','3'); 
INSERT INTO DUVIDA_TAG (ID_TAG, ID_DUVIDA) VALUES ('2','3');
INSERT INTO DUVIDA_TAG (ID_TAG, ID_DUVIDA) VALUES ('3','3');

## INSERT DE RESPOSTAS (TESTES) ##

INSERT INTO RESPOSTA (ID_USUARIO, ID_DUVIDA, RESPOSTA, RANK, FLAG_PROF, FLAG_ALUNO, DATA_CRIACAO) VALUES ('1','1','TESTE RESPOSTA 1','0',FALSE, FALSE, 11/09/2015);
INSERT INTO RESPOSTA (ID_USUARIO, ID_DUVIDA, RESPOSTA, RANK, FLAG_PROF, FLAG_ALUNO, DATA_CRIACAO) VALUES ('2','2','TESTE RESPOSTA 2','0',FALSE, FALSE, 11/09/2015);
INSERT INTO RESPOSTA (ID_USUARIO, ID_DUVIDA, RESPOSTA, RANK, FLAG_PROF, FLAG_ALUNO, DATA_CRIACAO) VALUES ('3','3','TESTE RESPOSTA 3','0',FALSE, FALSE, 11/09/2015);

## SELECT DE MÁTERIAS (TESTES) ##

SELECT * FROM MATERIA WHERE SEMESTRE=1;
SELECT * FROM MATERIA WHERE SEMESTRE=2;
SELECT * FROM MATERIA WHERE SEMESTRE=3;
SELECT * FROM MATERIA WHERE SEMESTRE=4;
SELECT * FROM MATERIA WHERE SEMESTRE=5;
SELECT * FROM MATERIA WHERE SEMESTRE=6;
